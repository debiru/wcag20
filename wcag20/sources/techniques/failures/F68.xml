<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE technique
  SYSTEM "../../xmlspec.dtd">
<technique id="F68">
   <short-name>達成基準 1.3.1 及び 達成基準 4.1.2 の不適合事例 － ラベルと利用者ーインタフェース・コントロールとの関連付けがプログラムで解釈可能ではない
   </short-name>
   <applicability>
      <p>視覚的に確認できるラベルを用いている HTML 及び XHTML のコントロール</p>
   </applicability>
   <applies-to>
      <success-criterion idref="content-structure-separation-programmatic"
                         relationship="failure"/>
      <success-criterion idref="ensure-compat-rsv" relationship="failure"/>
   </applies-to>
   <description>
    <p>この文書では、視覚的なデザインにおいてはラベルがあるにもかかわらず、フォームのコントロールに対応するラベルが<el>label</el>要素を用いて明示的に指定されていない場合に生じる不適合事例について解説する。</p>
    <note><p class="prefix">明示的なラベル付けが必要な要素は以下の通りである：</p>
		<ulist><item><p><code>input type="text"</code></p></item><item><p><code>input type="checkbox"</code></p></item><item><p><code>input type="radio"</code></p></item><item><p><code>input type="file"</code></p></item><item><p><code>input type="password"</code></p></item><item><p><code>textarea</code></p></item><item><p><code>select</code></p></item></ulist><p class="prefix">以下の要素については、ラベルをvalue属性（サブミット（送信）およびリセット・ボタン）、al属性（画像を用いたボタン）、あるいは要素の内容そのもの（ボタン）でそれぞれ指定するため、<code>label</code>要素を用いない。</p>
		<ulist><item><p>サブミット（送信）及びリセット・ボタン (<code>input type="submit"</code>又は <code>input type="reset"</code>)</p></item><item><p>画像を用いたボタン (<code>input type="image"</code>)</p></item><item><p>隠し入力フィールド (<code>input type="hidden"</code>)</p></item><item><p>スクリプト・ボタン (<code>button</code> 要素又は<code><![CDATA[<input type="button">]]></code>)</p></item></ulist></note>
  </description>
   <examples>
      <eg-group role="failure">
      <head>不適合となる</head>
      <description><p>以下の例では、視覚的には分かる形でフォームのコントロールに対応するラベルが提示されているが、<code>label</code>要素を用いてラベルとコントロールの対応が示されていない。この例の場合、利用者ーエージェント（支援技術を含む）がどのラベルとどのコントロールが対応しているのかを判断できない可能性があるため不適合となる。</p>
</description>
      <codeblock role="html5" xml:space="preserve"><![CDATA[
 <form>
 姓：
 <input type="text" name="lastname">
 <br />
 名： 
 <input type="text" name="firstname">
 <br />
 犬を飼っている <input type="checkbox" name="pet" value="dog" />
 猫を飼っている <input type="checkbox" name="pet" value="cat" />
</form>]]></codeblock>
    </eg-group>
    <eg-group role="failure">
      <head>不適合となる</head>
      <description><p>以下のコード例において、利用者ーエージェント（支援技術を含む）は入力コントロールに対応するラベルを適切に判断することができない。</p>
</description>
      <codeblock role="html5" xml:space="preserve"><![CDATA[
<form action="..." method="post">
<p>
<label>
   姓
   <input type="text" name="lastname">
</label>
<label>
   名
   <input type="text" name="firstname">
</label>
</p>
</form>]]></codeblock>
      <codeblock role="html5" xml:space="preserve"><![CDATA[
<form action="..." method="post"> 
<p> 
<label>姓</label> 
<input type="text" name="lastname"> 
<label>名 </label>
<input type="text" name="firstname"> 
</p> 
</form>]]></codeblock>
    </eg-group>
    <eg-group role="failure">
      <head>不適合となる</head>
      <description><p>以下の例では、検索用のテキストフィールドに名前がついていない。<code>title</code>属性を用いるか、CSSによって非表示にした<code>label</code>要素を用いることで名前をつけることができる。</p>
</description>
      <codeblock role="html5" xml:space="preserve"><![CDATA[
<input type="text" value="検索文字列を入力"><input type="submit" type="submit" value="検索">]]></codeblock>
    </eg-group>
   </examples>
   <resources/>
   <related-techniques>
      <relatedtech idref="H44"/>
      <relatedtech idref="H65"/>
   </related-techniques>
   <tests>
      <procedure>
      <p>ウェブページ上にある、<code>type</code>が<code>radio</code>, <code>checkbox</code>, <code>text</code>, <code>file</code> 又は <code>password</code>のすべての<el>input</el>要素、すべての<el>textareas</el>要素、及びすべての<el>select</el>要素について：</p>
      <olist>
        <item>
          <p>視覚的デザインにおいて、フォーム・コントロールの目的が分かるようなテキストのラベルが用いられている</p>
        </item>
        <item>
          <p><el>label</el>要素を用いて、テキストとフォーム・コントロールの要素が関連づけられている</p>
        </item>
      </olist>
    </procedure>
      <expected-results>
         <ulist>
            <item>
               <p>1.が該当して、2.が満たされていない場合、この不適合条件が適用され、達成基準に不適合となる。</p>
            </item>
         </ulist>
      </expected-results>
   </tests>
</technique>

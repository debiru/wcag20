<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja"><head><title>SCR29: Adding keyboard-accessible actions to static HTML elements | WCAG 2.0 実装方法集
              </title><link rel="canonical" href="http://www.w3.org/TR/WCAG20-TECHS/SCR29.html"/><link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/W3C-WG-NOTE.css"/><link rel="stylesheet" type="text/css" href="additional.css"/><link rel="stylesheet" type="text/css" href="slicenav.css"/></head><body class="slices"><div id="masthead"><p class="logo"><a href="http://www.w3.org/"><img width="72" height="48" alt="W3C" src="http://www.w3.org/Icons/w3c_home"/></a></p><p class="collectiontitle"><a href="./">Techniques for WCAG 2.0</a></p></div><div id="skipnav"><p class="skipnav"><a href="#maincontent">Skip to Content (Press Enter)</a></p></div><a name="top"> </a><!-- TOP NAVIGATION BAR --><ul id="navigation"><li><strong><a href="Overview.html#contents" title="Table of Contents">目次</a></strong></li><li><strong><a href="intro.html" title="Introduction to Techniques for WCAG 2.0"><abbr title="Introduction">イントロダクション</abbr></a></strong></li><li><a title="SCR28: 展開可能及び折り畳み可能なメニューを用いて、コンテンツのブロックをバイパスする" href="SCR28.html"><strong>前: </strong>
        Technique SCR28</a></li><li><a title="SCR30: スクリプトを用いて、リンクのラベルを変更する" href="SCR30.html"><strong>次: </strong>
        Technique SCR30</a></li></ul><div class="navtoc"><p>On this page:</p><ul id="navbar"><li><a href="#SCR29-disclaimer">Important Information about Techniques</a></li><li><a href="#SCR29-applicability">適用（対象）</a></li><li><a href="#SCR29-description">解説</a></li><li><a href="#SCR29-examples">事例</a></li><li><a href="#SCR29-resources">参考リソース</a></li><li><a href="#SCR29-related-techs">関連する実装方法</a></li><li><a href="#SCR29-tests">検証</a></li></ul></div><div class="skiptarget"><a id="maincontent">-</a></div> <h1><a name="SCR29" id="SCR29"> </a>SCR29: Adding keyboard-accessible actions to static HTML elements</h1><div id="SCR29-disclaimer"><h2>Important Information about Techniques</h2><p>See <a href="http://www.w3.org/TR/2015/NOTE-UNDERSTANDING-WCAG20-20150226/understanding-techniques.html">Understanding Techniques for WCAG Success Criteria</a> for important information about the usage of these informative techniques and how they relate to the normative WCAG 2.0 success criteria. The Applicability section explains the scope of the technique, and the presence of techniques for a specific technology does not imply that the technology can be used in all situations to create content that meets WCAG 2.0.</p></div><div class="applicability"><h2 id="SCR29-applicability">適用（対象）</h2><div class="textbody"><p>HTML and XHTML, Script</p></div></div><p class="referenced">これは、次の達成基準に関連する実装方法である:</p><ul><li><a href="http://www.w3.org/TR/2008/REC-WCAG20-20081211/#keyboard-operation-keyboard-operable">
				達成基準 2.1.1 (Keyboard)</a><ul><li><a href="http://www.w3.org/WAI/WCAG20/quickref/20150226/#keyboard-operation-keyboard-operable">
						How to Meet 2.1.1 (Keyboard)
					</a></li><li><a href="http://www.w3.org/TR/2015/NOTE-UNDERSTANDING-WCAG20-20150226/keyboard-operation-keyboard-operable.html">
						達成基準 2.1.1 (Keyboard)を理解する
					</a></li></ul></li><li><a href="http://www.w3.org/TR/2008/REC-WCAG20-20081211/#keyboard-operation-all-funcs">
				達成基準 2.1.3 (Keyboard (No Exception))</a><ul><li><a href="http://www.w3.org/WAI/WCAG20/quickref/20150226/#keyboard-operation-all-funcs">
						How to Meet 2.1.3 (Keyboard (No Exception))
					</a></li><li><a href="http://www.w3.org/TR/2015/NOTE-UNDERSTANDING-WCAG20-20150226/keyboard-operation-all-funcs.html">
						達成基準 2.1.3 (Keyboard (No Exception))を理解する
					</a></li></ul></li></ul><div class="ua-issues"><h2 class="small-head" id="ua4.14.1">ユーザーエージェント及び支援技術によるサポート</h2><p>See <a href="/WAI/WCAG20/Techniques/ua-notes/client-side-script#SCR29">User Agent Support Notes for SCR29</a>.</p></div><h2 id="SCR29-description">解説</h2><div class="textbody"><p>The objective of this technique is to demonstrate how to provide keyboard access to a user interface control that is implemented by actions to static HTML elements such as <code>div</code> or <code>span</code>. This technique ensures that the element is focusable by setting the <code>tabindex</code> attribute, and it ensures that the action can be triggered from the keyboard by providing an <code>onkeyup</code> or <code>onkeypress</code> handler in addition to an <code>onclick</code> handler. </p><p>When the <code>tabindex</code> attribute has the value 0, the element can be focused via the keyboard and is included in the tab order of the document. When the <code>tabindex</code> attribute has the value -1, the element cannot be tabbed to, but focus can be set programmatically, using <code>element.focus()</code>.</p><p>Because static HTML elements do not have actions associated with them, it is not possible to provide a backup implementation or explanation in environments in which scripting is not available. This technique should only be used in environments in which client-side scripting can be relied upon.</p><div class="note"><p class="prefix"><em>注記: </em> Such user interface controls must still satisfy Success Criterion 4.1.2. Applying this technique without also providing role, name, and state information about the user interface control will results in Failure F59, Failure of Success Criterion 4.1.2 due to using script to make div or span a user interface control in HTML.</p></div></div><h2 class="small-head" id="SCR29-examples">事例</h2><h3 class="small-head" id="SCR29-ex1">事例 1:  Adding a JavaScript action to a div element</h3><div class="example"><div class="textbody"><p>The <code>div</code> element on the page is given a unique <code>id</code> attribute and a <code>tabindex</code> attribute with value 0.  A script uses the Document Object Model (DOM) to find the <code>div</code> element by its id and add the <code>onclick</code> handler and the <code>onkeyup</code> handler. The <code>onkeyup</code> handler will invoke the action when the Enter key is pressed. Note that the <code>div</code> element must be loaded into the DOM before it can be found and modified. This is usually accomplished by calling the script from the <code>onload</code> event of the <code>body</code> element.  The script to add the event handlers will only execute if the user agent supports and has JavaScript enabled.   </p></div><div class="code"><p><strong>コード例:</strong></p><pre><code>
...
&lt;script type="text/javascript"&gt;
 // this is the function to perform the action. This simple example toggles a message.
 function doSomething(event) {
   var msg=document.getElementById("message");
   msg.style.display = msg.style.display=="none" ? "" : "none";
   //return false from the function to make certain that the href of the link does not get invoked
   return false;
 }
 // this is the function to perform the action when the Enter key has been pressed.  
 function doSomethingOnEnter(event) {
   var key = 0;
   // Determine the key pressed, depending on whether window.event or the event object is in use
   if (window.event) {
     key = window.event.keyCode;
   } else if (event) {
     key = event.keyCode;
   }
   // Was the Enter key pressed?
   if (key == 13) {
     return doSomething(event);
   } 
   // The event has not been handled, so return true
   return true;
 }
 // This setUpActions() function must be called to set the onclick and onkeyup event handlers onto the existing 
 // div element. This function must be called after the div element with id="active" has been loaded into the DOM.
 // In this example the setUpActions() function is called from the onload event for the body element.
 function setUpActions() {
   // get the div object
   var active=document.getElementById("active");
   // assign the onclick handler to the object.
   // It is important to return false from the onclick handler to prevent the href attribute
   // from being followed after the function returns.
   active.onclick=doSomething;
   // assign the onkeyup handler to the object.
   active.onkeyup=doSomethingOnEnter;
 }
 &lt;/script&gt;

 &lt;body onload="setUpActions();"&gt;
 &lt;p&gt;Here is the link to modify with a javascript action:&lt;/p&gt;
 &lt;div&gt;
  &lt;span id="active" tabindex="0"&gt;Do Something&lt;/span&gt;
 &lt;/div&gt;
 &lt;div id="message"&gt;Hello, world!&lt;/div&gt;
...
</code></pre></div><div class="textbody"><p>Working example of this code: <a href="/WAI/WCAG20/Techniques/working-examples/SCR29/action-on-div.html" class="ex-ref">Creating Divs with Actions using JavaScript</a>.</p></div></div><h2 id="SCR29-resources">参考リソース</h2><div class="textbody"><p>この参考リソースは、あくまでも情報提供のみが目的であり、推薦などを意味するものではない。</p><ul><li><p>HTML 4.01 <a href="http://www.w3.org/TR/REC-html40/interact/scripts.html">Scripts</a>
               </p></li><li><p>HTML 4.01 <a href="http://www.w3.org/TR/REC-html40/interact/forms.html#h-17.11">Giving focus to an element</a>
               </p></li><li><p>Accessible Rich Internet Applications (WAI-ARIA) Version 1.0 <a href="http://www.w3.org/TR/wai-aria/states_and_properties#global_states">Global States and Properties</a>
               </p></li><li><p>WAI-ARIA Primer, <a href="http://www.w3.org/TR/wai-aria-primer/#focus">Provision of the keyboard or input focus</a>
               </p></li><li><p>
                  <a href="http://www.w3.org/DOM/DOMTR">Document Object Model (DOM) Technical Reports</a>
               </p></li><li><p>
                  <a href="https://msdn.microsoft.com/en-us/library/ms534654(VS.85).aspx">Internet Explorer, HTML and DHTML Reference, tabIndex Property</a>
               </p></li></ul></div><h2 id="SCR29-related-techs">関連する実装方法</h2><div class="textbody"><ul><li><a href="SCR20.html">SCR20: キーボードとその他のデバイス特有の機能を両方とも用いる</a></li><li><a href="SCR24.html">SCR24: プログレッシブ・エンハンスメントを用いて、利用者の要求に応じて新しいウィンドウを開く</a></li><li><a href="SCR35.html">SCR35: アンカー及びボタンのonclickイベントを用いて、アクションをキーボードで操作可能にする</a></li><li><a href="F59.html">F59: 達成基準 4.1.2 の不適合事例 － スクリプトを用いて、HTMLのdiv要素又はspan要素をユーザーインタフェースのコントロールにしている</a></li></ul></div><h2 id="SCR29-tests">検証</h2><div class="textbody"><h3 class="small-head" id="SCR29-procedure">チェックポイント</h3><p>In a user agent that supports Scripting:</p><ol class="enumar"><li><p>Click on the control with the mouse</p></li><li><p>Check that the scripting action executes properly</p></li><li><p>Check that it is possible to navigate to and give focus to the control via the keyboard</p></li><li><p>Set keyboard focus to the control</p></li><li><p>Check that pressing ENTER invokes the scripting action.</p></li></ol><h3 class="small-head" id="SCR29-results">判定基準</h3><ul><li><p>All of the checks are true</p></li></ul><p>注意：この実装方法が「達成基準を満たすことのできる実装方法」の一つである場合、このチェックポイントや判定基準を満たしていなければ、それはこの実装方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の実装方法によってその達成基準が満たされていることもありうる。</p></div><!-- BOTTOM NAVIGATION BAR --><ul id="navigationbottom"><li><strong><a href="#top">このページの先頭へ</a></strong></li><li><strong><a href="Overview.html#contents" title="Table of Contents">目次</a></strong></li><li><strong><a href="intro.html" title="Introduction to Techniques for WCAG 2.0"><abbr title="Introduction">イントロダクション</abbr></a></strong></li><li><a title="SCR28: 展開可能及び折り畳み可能なメニューを用いて、コンテンツのブロックをバイパスする" href="SCR28.html"><strong>前: </strong>
        Technique SCR28</a></li><li><a title="SCR30: スクリプトを用いて、リンクのラベルを変更する" href="SCR30.html"><strong>次: </strong>
        Technique SCR30</a></li></ul><div class="footer"><p class="copyright">このページは、「<a href="Overview.html">WCAG 2.0 実装方法集&amp;nbsp;WCAG 2.0の実装方法と不適合事例</a>」の一部である。Web Content Accessibility Guidelines (WCAG) 2.0 関連文書群において、この「WCAG 2.0 実装方法集」がその他の文書とどのような関係にあるかは、<a href="http://www.w3.org/WAI/intro/wcag20">The WCAG 2.0 Documents（英語）</a>を参照のこと。</p><p class="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2012 <a href="http://www.w3.org/"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>, <a href="http://www.ercim.eu/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</p></div></body></html>